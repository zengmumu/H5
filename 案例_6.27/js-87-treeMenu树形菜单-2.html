<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>制作树形菜单</title>
		<style type="text/css">
			body {
				font-size: 12px;
				color: #000000;
				line-height: 20px;
			}
			
			img {
				vertical-align: middle;
				border: 0;
			}
			
			a {
				font-size: 13px;
				color: #000000;
				text-decoration: none;
			}
			
			a:hover {
				font-size: 13px;
				color: #ff0000;
			}
			
			ul {
				list-style: none;
			}
			
			ul li {
				padding-left: 15px;
			}
		</style>
		<script type="text/javascript">
		window.onload=init;
		function init(){
//			var item=document.getElementsByClassName("treeItem")[0]
//			new treeMenu(item);//创建一个treeMenu 和执行treeMenu(item)一样，只是里面的this 指向一样
//[1]选择到所有的 treeItem 并 每一个都传到  new treeMenu()里面
var items=document.getElementsByClassName("treeItem");
for(var i=0;i<items.length;i++){
	new treeMenu(items[i]);
}
			
			function treeMenu(elem){
				//[1]选择elem里面的a
				var mya=elem.getElementsByTagName("a")[0];
				//[2]选择elem里面 的sub_tree
				var sub_tree=elem.getElementsByClassName("sub_tree")[0];
				//[3]单击a 如果sub_tree是显示的叫他隐藏，如果隐藏叫他显示
				mya.onclick=function(e){
					e.preventDefault();//取消默认事件
					if(sub_tree.style.display!="block"){
						sub_tree.style.display="block"
					}else{
						sub_tree.style.display="none"
					}
				}
			}
			
		}
		</script>
	</head>

	<body>
		<ul>
			<li class="treeItem">
				<a href="" ><img src="images/z-1.jpg">分类讨论区</a>
				<ul id="a" style="display:none;" class="sub_tree">
					<li class="treeItem"><img src="images/z-top.gif">
						<a href="">BBS 系统</a>
						<ul style="display:none;" class="sub_tree">
							<li><img src="images/z-top.gif">美容品与饰品代理</li>
							<li><img src="images/z-top.gif">考研资料市场</li>
							<li><img src="images/z-top.gif">商海纵横</li>
							<li><img src="images/z-top.gif">动物保护者</li>
							<li><img src="images/z-top.gif">动物世界</li>
							<li><img src="images/z-end.gif">中国风・神州各地</li>
						</ul>

					</li>
					<li><img src="images/z-top.gif">共建水木</li>
					<li><img src="images/z-top.gif">站务公告栏</li>
					<li><img src="images/z-top.gif">妆点水木</li>
					<li><img src="images/z-end.gif">申请版主</li>
				</ul>
			</li>
			<li class="treeItem">
				<a href="" ><img src="images/z-2.jpg"  >社会信息</a>
				<ul id="b" style="display:none;" class="sub_tree">
					<li><img src="images/z-top.gif">美容品与饰品代理</li>
					<li><img src="images/z-top.gif">考研资料市场</li>
					<li><img src="images/z-top.gif">商海纵横</li>
					<li><img src="images/z-top.gif">动物保护者</li>
					<li><img src="images/z-top.gif">动物世界</li>
					<li><img src="images/z-end.gif">中国风・神州各地</li>
				</ul>
			</li>
			<li class="treeItem">
				<a href="" ><img src="images/z-3.jpg">休闲娱乐</a>
				<ul id="c" style="display:none;" class="sub_tree">
					<li><img src="images/z-top.gif">ASCIIart全国转信</li>
					<li><img src="images/z-top.gif">七彩水木</li>
					<li><img src="images/z-top.gif">网友聚会</li>
					<li><img src="images/z-top.gif">醉品人生</li>
					<li><img src="images/z-top.gif">花木园艺</li>
					<li> <img src="images/z-end.gif">祝福</li>
				</ul>
			</li>
			<li class="treeItem">
				<a href=""  ><img src="images/z-4.jpg">电脑技术</a>
				<ul id="d" style="display:none;" class="sub_tree">
					<li><img src="images/z-top.gif">BBS安装管理</li>
					<li> <img src="images/z-top.gif">CAD技术</li>
					<li><img src="images/z-top.gif">数字图像设计</li>
					<li> <img src="images/z-top.gif">电脑音乐制作</li>
					<li> <img src="images/z-top.gif">软件加密与解密</li>
					<li><img src="images/z-end.gif">计算机体系结构</li>
				</ul>
			</li>
		</ul>
	</body>

</html>