<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style type="text/css">
*{ margin:0; padding:0;}
body{ height:2000px;}
.pop{ width:320px; height:320px; border:1px solid #ddd; position:fixed; left:0; top:0; display:block; z-index:1; background-color:#fff; box-shadow:0 0 10px rgba(0,0,0,.3);transition:all 1s; opacity:1; display: none;}
.pop .title{ background-color:#E4F2F5; text-align:center; font-size:14px; height:35px; line-height:35px; font-weight:bold;}
.pop .pop-con{ padding:25px; color:#666;}
.pop .cl{ width:30px; height:30px; line-height:30px; color:#930; border:1px solid #eaeaea; position:absolute; right:0; top:0; font-size:35px; cursor:pointer;}
.lay{width:100%; height:100%; position:fixed; left:0; top:0; z-index:0; background-color:#000; opacity:.5; transition:opacity 0.5s; display: none;}
</style>

<script>

function dialog(opt){
	this.dom=document.getElementsByClassName(opt.dom)[0];
	this.lay=document.getElementsByClassName("lay")[0];
	this.w;
	this.h;
	this.winW;
	this.winH;
	this.closeBtn=this.dom.getElementsByClassName("close")[0];
	this.init();
	this.bindDom();
	
}
dialog.prototype.init=function(){
	this.dom.style.display="block";
	this.lay.style.display="block";
	this.reset();
}
dialog.prototype.bindDom=function(){
	var main=this;
	this.closeBtn.addEventListener("click",close,false);	
	function close(){
		main.dom.style.display="none";
		main.lay.style.display="none";
	}
	window.addEventListener("resize",function(){
		main.reset();
	},false)
}
dialog.prototype.reset=function(){
	this.winW=document.documentElement.clientWidth;
	this.winH=document.documentElement.clientHeight;
	this.w=parseInt(this.dom.offsetWidth);
	this.h=parseInt(this.dom.offsetHeight);
//	alert(this.winW+":"+this.winH+":"+this.w+":"+this.h)
	this.dom.style.left=(this.winW/2-this.w/2)+"px";
	
	this.dom.style.top=(this.winH/2-this.h/2)+"px";
}
function show(){
	new dialog({dom:"pop"});
}
</script>


</head>

<body>
<p style="margin:300px;"><span class="show" onclick="show()">弹出一个框</span></p>
<div class="pop" id="pop">
	<p class="cl close" onclick="closeIt()">×</p>
    <h3 class="title">I am 标题</h3>
    <div class="pop-con">
    	<p>我一个个弹出内容 ，我是大土星</p>
    </div>
</div>

<div class="lay"></div>
</body>
</html>
