<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<style>
		*{margin: 0;
		padding: 0;}
		ul{list-style: none;}
		.banner{ width: 1000px; height: 215px; margin: 50px auto; position: relative;}
		.banner .content li{ position: absolute; left: 0; top: 0;  transition:opacity 1s;}
		.thumnail{ position: absolute; right:50px; bottom: 50px; z-index: 100;}
		.thumnail li{ height: 30px; width: 30px;text-align: center; line-height: 30px; background-color: rgba(100,100,0,.4); margin-bottom: 3px; cursor: pointer;}
		.thumnail li:hover,.thumnail .active{ background-color: #f80; color:#fff;}
	</style>
	<script>
		window.onload=init;
		function init(){
			new Slider("banner");
		}
		//单击第几个显示第几个
		function Slider(opt){
		var dom=document.getElementById(opt);
		var content=dom.getElementsByClassName("content")[0];
		var sliders=content.getElementsByTagName("li");
		var thumnail=dom.getElementsByClassName("thumnail")[0];
		var thums=thumnail.getElementsByTagName("li");
		var index=0;
		var interId;//间隔控制
		var oldLi;//上一次高亮的 li
		var oldSlider;//上一次显示的slider
			init();
			function init(){
				for(var i=0;i<sliders.length;i++){
					sliders[i].style.opacity=0;
				}
				sliders[index].style.opacity=1;
				thums[index].className="active";
				oldLi=thums[index];
				oldSlider=sliders[index];
			}
			function goSlider(num){
//				console.log(num,index);
//				alert("我切到第"+num+"张");
				oldSlider.style.opacity=0;//上一次显示的图片隐藏
				oldLi.className="";//设置一次高亮的li 去掉active
				sliders[num].style.opacity=1;//当前对应的slider 显示
				thums[num].className="active";//当前对应的li 高亮
				index=num;//num 和 index同步
				oldLi=thums[num];//当前的高亮显示又变成上一次
				oldSlider=sliders[num];//当前的slider显示又变成上一次
			}
			function auto(){
				index++;
				if(index>=sliders.length){index=0;}
				goSlider(index);
			}
			function animate(){
				interId=setInterval(function(){
					auto();
				},3000)
			}
			animate();
			dom.onmouseover=function(){clearInterval(interId)}
			dom.onmouseout=function(){	animate();}
			
			
			for(var i=0;i<thums.length;i++){
				(function(){
					var j=i;
					thums[j].onclick=function(){
						goSlider(j);
					}
				})()
			}
			
		
			
		}
		
	</script>
</head>
<body>
		<div class="banner" id="banner">
			<ul class="content">
				<li><img src="images/banner_1.jpg" alt="" width="100%" /></li>
				<li><img src="images/banner_2.jpg" alt="" width="100%" /></li>
				<li><img src="images/banner_3.jpg" alt="" width="100%" /></li>
				<li><img src="images/banner_4.jpg" alt=""width="100%"  /></li>
			</ul>
			<ul class="thumnail">
				<li>1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
			</ul>
			
		</div>
		
</body>
</html>