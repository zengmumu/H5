# 表单

## checkbox
ng-model  
ng-checked  
ng-true-value  
ng-false-value 
ng-disable
```
<form action="" class="form">
	<div class="form-group">
		<label>性别：</label>
		<input type="radio" name="sex" value="男" ng-model="sex" ng-checked="true"/>男
		<input type="radio" name="sex" value="女" ng-model="sex"/>女
	</div>
	<div class="form-group">
		<label>爱好：</label>
		<label><input type="checkbox" ng-true-value="唱歌" ng-false-value="" name="box" ng-model="c1"/>唱歌</label>
		<label><input type="checkbox" ng-true-value="爬山" ng-false-value="" name="box" ng-model="c2"/>爬山</label>
	</div>
	<div class="form-group">
		<label><input type="checkbox" ng-model="agree"/>同意</label>
	</div>
	<div class="form-group">
		<label><input type="submit" value="提交" ng-disabled="!agree" ng-click="showResult()"/></label>
	</div>
			
</form>
```
## select
ng-model  
ng-options  

```
<select name="" id="" class="form-control" ng-model="sel" ng-options="item for item in data">
	<option value="">--请选择--</option>
</select>
```

```
angular.module("myapp",[])
	.controller("myCtrl",["$scope",function($scope){
		$scope.data = ['A','B','C','D'] 

    }])
```

方法2
```
<select name="" id="" class="form-control" ng-model="sel" >
	<option value="">--请选择--</option>
	<option ng-repeat ="item in data">{{item}}</option>
	</select>
```

方法3 指定值

```
<form action="" class="form col-md-6">
	<div class="form-group">
		<select name="" id="" class="form-control" ng-model="sel" ng-options="item.id as item.name for item in data">
			<option value="">--请选择--</option>
		</select>
	</div>
	<div>{{sel}}</div>
</form>
```
```
$scope.data = [
	{ id: '1', name: 'A' },
	{ id: '2', name: 'B' },
	{ id: '3', name: 'C' },
]
```

方法4 编组
```
<select name="" id="" class="form-control" ng-model="sel" 
ng-options="item.id as item.name group by item.grade for item in data" >
	option value="">--请选择--</option>
</select>
```
```
$scope.data = [
	{ id: "1001", name: "(1)班", grade: "一年级" },
	{ id: "1002", name: "(2)班", grade: "一年级" },
	{ id: "2001", name: "(1)班", grade: "二年级" },
	{ id: "2002", name: "(2)班", grade: "二年级" },
	{ id: "3001", name: "(1)班", grade: "三年级" },
	{ id: "3002", name: "(2)班", grade: "三年级" }
];
```

案例 三级联动
```
<div class="form-group">
	<label>选择省</label>
	<select name="" id=""  class="form-control" ng-model="currentP" ng-options="p.province for p in chinaCities" ng-change="setCurrentP(currentP)">
		<option value="">--请选择--</option>
	</select>
</div>
<div class="form-group">
	<label>选择市</label>
	<select class="form-control" ng-model="currentC" ng-options="c.city for c in currentP.cities" ng-change="setCurrentC(currentC)">
		<option value="">--请选择--</option>
	</select>
</div>
<div class="form-group">
	<label>选择县</label>
	<select class="form-control" ng-model="currentA" ng-options="a for a in currentC.areas">
		<option value="">--请选择--</option>
	</select>
</div>
<div>{{currentP|json}}</div>
<div>{{currentC|json}}</div>
<div>{{currentA}}</div>
```
```
.controller("myCtrl",["$scope",function($scope) {
	$scope.chinaCities = [
		{
			py: 'sh',
			province: '上海',
			cities: [{city: '上海', areas: ['浦东新区', '黄浦区', '青浦区', '卢湾区', '闸北区', '静安区']}]
		},
		{py: 'bj', province: '北京', cities: [{city: '北京', areas: ['东城区', '西城区', '崇文区', '宣武区', '朝阳区']}]},
		{
			py: 'hb',
			province: '湖北',
			cities: [{city: '武汉', areas: ['江岸区', '江汉区', '硚口区', '武昌区', '洪山区']}, {
				city: '襄阳',
				areas: ['襄城区', '樊城区', '襄州区', '枣阳市', '南漳县', '保康县', '老河口市']
			}]


		}];
	$scope.currentP=$scope.chinaCities[0];
	$scope.currentC=$scope.currentP.cities[0];
	$scope.currentA=$scope.currentC.areas[0];
	$scope.setCurrentP=function(p){
		$scope.currentP=p;
		$scope.currentC=$scope.currentP.cities[0];
		$scope.currentA=$scope.currentC.areas[0];
	}
	$scope.setCurrentC=function(c){
		$scope.currentC=c;
		$scope.currentA=$scope.currentC.areas[0];
	}
```

---
# 表单验证
**1\. 必填项验证** 某个表单输入是否已填写，只要在输入字段元素上添加HTML5标记 `required`即可：

**2\. 最小长度** 验证表单输入的文本长度是否大于某个最小值，在输入字段上使用指令 `ng-minleng= "{number}"`：

**3\. 最大长度** 验证表单输入的文本长度是否小于或等于某个最大值，在输入字段上使用指令 `ng-maxlength="{number}"`：

**4\. 模式匹配** 使用 `ng-pattern="/PATTERN/"`来确保输入能够匹配指定的正则表达式：

**5\. 电子邮件** 验证输入内容是否是电子邮件，只要像下面这样将 `input的类型设置为email`即可：

**6\. 数字** 验证输入内容是否是数字，将input的类型设置为 `number`：

**7\. URL** 验证输入内容是否是URL，将input的类型设置为 `url`：

| 属性 | 样式 | 描述 |
---|---|---
| $valid | ng-valid | 通过当前验证设置的验证规则 |
| $invalid | ng-invalid | 无法通过当前验证设置的验证规则 |
| $pristine | ng-pristine | 当前表单/输入区未修改过 |
| $dirty | ng-dirty | 当前表单/输入区修改过 |
| $touched | ng-touched | 是否点击过输入区(Angular 1.3+) |
|  | .ng-invalid-required | 必填没有通过 |
|  | .ng-invalid-minlength | 最小长度没有通过 |
|  | .ng-valid-max-length | 在大长度没有通过 |
css

```css
.ng-pristine.ng-invalid{ border-color:#999;}
.ng-valid{ border-color:green;}
.ng-valid:focus{box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #8BC34A;}
.ng-valid+.glyphicon{ color: green;}
.ng-invalid{ border-color:red;}
.glyphicon-remove{ color: red;}
.err{ color:red;}
```
html
```

<form action="http://www.baidu.com" class="form form-horizontal" name="myform">
    <div class="form-group has-feedback">
    	<label  class="col-md-2">1.必填项</label>
    	<div class="col-md-8">
    		<input type="text" class="form-control" required ng-model="user" name="user"/>
    		<span ng-show="myform.user.$dirty&&myform.user.$valid" class="glyphicon glyphicon-ok form-control-feedback"></span>
    		<span ng-show="myform.user.$dirty&&myform.user.$invalid" class="glyphicon glyphicon-remove form-control-feedback"></span>
    	</div>
    	<div class="col-md-2">
    		<span class="help-block" ng-show="myform.user.$dirty&&myform.user.$invalid" ng-class="{'err':myform.user.$dirty&&myform.user.$invalid}">*该项为必填项</span>
    	</div>
    </div>
				<!-- form gruop ed-->
</form>
```