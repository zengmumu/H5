# 过滤器  
number  
currency  
date  
limitTo  
lowercase  
uppercase  
filter   
json  
orderBy  


```
<div ng-controller="firstController">

        <!--123,456,789-->
        <p>{{123456789 | number}}</p>
        <!--12,345.679-->
        <p>{{12345.6789 | number:3}}</p>

        <!--$999,999.00-->
        <p>{{999999 | currency}}</p>
        <!--rmb999,999.00-->
        <p>{{999999 | currency:'rmb'}}</p>

        <p>
            default:{{ today }}
        </p>

        <p>
            medium: {{ today | date:'medium'}}
        </p>

        <p>
            short:{{ today | date:'short'}}
        </p>

        <p>
            fullDate:{{ today | date:'fullDate'}}
        </p>

        <p>
            longDate:{{ today | date:'longDate'}}
        </p>

        <p>
            mediumDate:{{ today | date:'mediumDate'}}
        </p>

        <p>

            shortDate:{{ today | date:'shortDate'}}
        </p>

        <p>
            mediumTime:{{ today | date:'mediumTime'}}
        </p>

        <p>
            shortTime:{{ today | date:'shortTime'}}
        </p>

        <p>
            year:
            {{today | date : 'y'}}
            {{today | date : 'yy'}}
            {{today | date : 'yyyy'}}
        </p>
        <p>
            month:
            {{today | date : 'M'}}
            {{today | date : 'MM'}}
            {{today | date : 'MMM'}}
            {{today | date : 'MMMM'}}
        </p>
        <p>
            day:
            {{today | date : 'd'}}
            Day in month {{today | date : 'dd'}}
            Day in week {{today | date : 'EEEE'}}
            {{today | date : 'EEE'}}
        </p>

        <p>
            hour:
            {{today | date : 'HH'}}
            {{today | date : 'H'}}
            {{today | date : 'hh'}}
            {{today | date : 'h'}}
        </p>

        <p>
            minute:
            {{today | date : 'mm'}}
            {{today | date : 'm'}}
        </p>

        <p>
            second:
            {{today | date : 'ss'}}
            {{today | date : 's'}}
            {{today | date : '.sss'}}
        </p>

        <p>
            {{today | date : 'y-MM-d H:m:s'}}
        </p>


</div>
```

## 第二部分
```
<div ng-controller="firstController">

        <!--[1,2,3,4,5]-->
        <p>{{[1,2,3,4,5,6,7] | limitTo:5}}</p>

        <!--[3,4,5,6,7]-->
        <p>{{[1,2,3,4,5,6,7] | limitTo:-5}}</p>

        <!-- hello world -->
        <p>{{data.message | lowercase}}</p>
        <!-- HELLO WORLD -->
        <p>{{data.message | uppercase}}</p>

        <p>
            <!-- [{"name":"上海11212","py":"shanghai"}]-->
            {{ data.city | filter : '上海'}}
        </p>
        <p>
            <!-- []-->
            {{ data.city | filter : 'name'}}
        </p>

        <p>
            <!-- name":"上海11212","py":"shanghai"},{"name":"北京","py":"beijing"}-->
            {{ data.city | filter : {py:'g'} }}
        </p>

        <p>
            <!-- name":"上海11212","py":"shanghai"},{"name":"北京","py":"beijing"}-->
            {{ data.city | filter : checkName }}
        </p>

        <p>
            <!-- [{"name":"北京","py":"beijing"},{"name":"上海11212","py":"shanghai"},{"name":"四川","py":"sichuan"}] -->
            <!-- 默认顺序是 正序 asc a~z -->
            {{ data.city | orderBy : 'py'}}

            <!-- 默认顺序是 反序 desc z~a  -->
            <!-- [{"name":"四川","py":"sichuan"},{"name":"上海11212","py":"shanghai"},{"name":"北京","py":"beijing"}] -->
            {{ data.city | orderBy : '-py'}}
        </p>
```

# orderBy
```
orderBy:'-score'
// 按score 字段 倒顺序

orderBy:title:true
// 按title字段 正序
```
---
# 在js中用过滤

```
 var number = $filter('number')(3000);
 var jsonString = $filter('json')($scope.data);
 $scope.d=$filter('date')(new Date(),'yy/MM/dd hh:mm:ss')
```
>注意要再控制器中注入 $filter 服务

# 过滤对象
```
filter:{score:8}
//对象中 score 属性有8的对象
filter:searchInfo
// 用整个searchInfo作为过滤参数
searchInfo.$ // 全局所有字段搜索
searchInfo.Situation //在 场地字段搜索

```

# 过滤函数
```
<tr ng-repeat="item in data|filter:getBest
$scope.getBest=
    function(elem){
		return elem.score>10
	}

```

# 自定义过滤
```
module.filter(name, filterFactory)
```
```
.filter("youth",function(){
	return function(elem,sex,score){
		var arrOut=[];
		var s=sex?"男":"女";
		if(score==undefined){
			score=60;
		}
		for(var i=0;i<elem.length;i++){
			if(elem[i].score>score&&elem[i].sex==s){
				arrOut.push(elem[i]);
			}
		}
		return arrOut;
	}

```
html
```
<tr ng-repeat="item in data|youth:0:60">
```
# 案例表头排序
```html
<table class="table table-hover table-stripe">
	<tr>
		<td>序号</td>
		<td ng-click="title='name';desc=!desc">姓名
			<span class="glyphicon glyphicon-arrow-down" ng-show="title=='name'&&desc"></span>
			<span class="glyphicon glyphicon-arrow-up" ng-show="title=='name'&&!desc"></span>
		</td>
		<td ng-click="title='sex';desc=!desc">性别
			<span class="glyphicon glyphicon-arrow-down" ng-show="title=='sex'&&desc"></span>
			<span class="glyphicon glyphicon-arrow-up" ng-show="title=='sex'&&!desc"></span>
		</td>
		<td ng-click="title='age';desc=!desc">年龄
			<span class="glyphicon glyphicon-arrow-down" ng-show="title=='age'&&desc"></span>
			<span class="glyphicon glyphicon-arrow-up" ng-show="title=='age'&&!desc"></span>
		</td>
		<td ng-click="title='score';desc=!desc">成绩
			<span class="glyphicon glyphicon-arrow-down" ng-show="title=='score'&&desc"></span>
			<span class="glyphicon glyphicon-arrow-up" ng-show="title=='score'&&!desc"></span>
		</td>
	</tr>
	<tr ng-repeat="item in data|orderBy:title:desc">
		<td>{{$index+1}}</td>
		<td>{{item.name}}</td>
		<td>{{item.sex}}</td>
		<td>{{item.age}}</td>
		<td>{{item.score}}</td>
	</tr>
</table>
```
js
```js
angular.module("myapp",[])
.controller("myCtrl",["$scope",function($scope){
 $scope.data = [
    { name: "张明明", sex: "女", age: 24, score: 9 },
    { name: "李清思", sex: "女", age: 27, score: 87 },
    { name: "刘小华", sex: "男", age: 28, score: 86 },
    { name: "李清", sex: "女", age: 25, score: 70 },
    { name: "刘华", sex: "男", age: 28, score: 86 },
    { name: "陈忠忠", sex: "男", age: 23, score: 97 }
    ];
    // $scope.title="score";
    $scope.desc=true;
}])

```
---
# 案例全局搜索
```html
<div class="container" ng-controller="myCtrl">
	<h1 class="text-center">2016中超联赛</h1>
		<div class="row">
			<form action="" class="form form-inline">
				<div class="form-group ">
						<label>全局搜索</label>
						<input type="text" class="form-control" ng-model="searchInfo.$"/>
				</div>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<div class="form-group">
						<label>场地搜索</label>
						<input type="text" class="form-control" ng-model="searchInfo.Situation"/>
				</div>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<div class="form-group">
						<label>轮次</label>
					     <select name="" id="" ng-model="searchInfo.Round" class="form-control" ng-options="item for item in uniqueRound">
					     	<option value="">--请选择轮次--</option>
					     </select>
				</div>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<div class="form-group">
						<label>日期</label>
					     <select name="" id="" ng-model="searchInfo.date" class="form-control" ng-options="item for item in uniqueDate">
					     	<option value="">--请选择轮次--</option>
					     </select>
				</div>
				
			</form>
	<table class="table table-hover table-stripe table-bordered text-center">
		<tr>
			<td ng-repeat="(k,v) in cls_header" ng-bind="v"></td>
		</tr>
		<tr ng-repeat="item in clsData|filter:searchInfo">
			<td ng-repeat="(k,v) in cls_header" ng-bind="item[k]"></td>
		</tr>
	</table>
			
		</div>
	</div>
```
js
```
angular.module("myapp",[])
.controller("myCtrl",["$scope","$http",function($scope,$http){
	$scope.cls_header={Round:"轮次",Team1:"主场",Team2:"客场",MatchCity:"城市",Situation:"球场",date:"日期",status_cn:"状态"}	
	$http.get("data/csl-data.json").success(function(res){
		$scope.clsData=res;
		$scope.searchInfo={};
		$scope.uniqueRound=unique($scope.clsData,"Round");
		$scope.uniqueDate=unique($scope.clsData,"date");
		function unique(data,type){
			var arr=[];
			for(var i=0;i<data.length;i++){
					if(arr.indexOf(data[i][type])==-1){
						arr.push(data[i][type]);
					}
			}
			return arr;
		}
		})//success ed
}])
```



